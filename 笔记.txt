# 笔记

## 摄像机处理

1.  常用的摄像机管理  Cinemachine

2.  根据像素本身来处理相机的位置（配合Cinemachine）

Main Camera 对象：在Main Camera 中添加组件 Pixel Perfect Camera，修改属性配置。
CM Vcam1对象：
然后Cinemachine库中所创建的CM Vcam1对象，
在CinemachineVirtualCamera中勾选扩展
Add Extension 选择 Cinemachine Pixel Perfect，他会根据Pixel Perfect Camera来处理
最后Lens Ortho Size 改为9

3. 设置摄像机缓冲

在CM vcam1 对象中， 在CinemachineVirtualCamera组件的Body属性设置参数，看个人喜好

## 图片处理

1. 添加身体各部分图片并调整渲染层
 整体处理图片的配置信息，可以使用预设统一处理。 点击图片，右上角有3个按钮，点击中间按钮 Preset 预设

2. 人物与树（其它）遮挡关系
可以设置其它对象的Sprite Renderer 下的Sprite Sort Point 改为 Pivot
选择图片进入Sprite Editor ，右下方的Pivot下拉选中Custom， 修改Custom Pivot 的 X或者Y，让其有遮挡的锚点位置


## 排序等级处理

1. sorting group 用法

Sorting Group:  可以让父物体下的所有子物体，整体一起渲染来排序。


2. 设置整个项目按照 Y 轴渲染

edit -> project settings -> Graphics ： 
可以设置摄像机的配置 Custom Axis  , x | z = 0 ，y =1 这样根据Y轴就有遮挡关系。
注意：必须是同个Sorting Layer，人物的图片切割锚点在底部

## Tilemap 处理

1. 新版本可以使用翻转功能

通过右键 Tile Palette -> open Tile palette 预设
添加翻转功能，然后save

2. Scene 网格区域显示当前区域

Scene 网格区域最上方右边有个网格，选择Tilemap之后，当Tile Palette 选择当前的Tilemap， 例如Ground，只会显示Ground
的区域Tile


3. 绘制区域可以用方格快速绘制，也可以使用shift+方格进行快速删除

4. Tile Palette 新的功能， 笔刷可以随机Tile，  下方有Default Brush进行下拉选择Random Brush进行配置。

5. Rule Tile 可以进行规则绘制，减少绘制量

6. 当瓦片地图出现缝隙，可以使用 Sprite Atlas处理, 可以把所有图片素材打包成一张图片，可以根据不同平台进行压缩优化。

右键Project -> 2D -> Sprite Atlas 新建Sprite Atlas
把图片素材的文件夹拖到 Objects for packing 
修改 Filter Mode 为Point 像素， Compression 为None 
最后进行Pack preview
注意：图片素材可能会干扰其他图片，可以把Padding 改大点

7. 瓦片地图碰撞（整体）

给Tilemap 添加 Tilemap Collider 2D组件
为了让Tilemap整体，添加Composite Collider 2D，（给Rigidbody 2D Type改为Staitc）看游戏需要
最后Tilemap Collider 2D组件，勾选Used By Composite

8. 对于不规则的碰撞Tilemap处理
可以回到碰撞体图片，点击Sprite Editor , Sprite Editor 下拉菜单选中 Custom Physics Shape
选中单独的Tile，点击上方的Generate，然后修改， 修改完成Apply
关闭Collision的,然后重新打开，就会完成
